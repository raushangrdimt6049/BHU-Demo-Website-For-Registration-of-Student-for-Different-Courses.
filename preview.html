<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Application Preview - DAV PG College</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="https://media.collegedekho.com/media/img/institute/logo/1436976975.jpg" type="image/jpeg">
    <link rel="stylesheet" href="home.css"> <!-- Re-use home styles for details view -->
    <link rel="stylesheet" href="preview.css">
    <script>
        // --- Strict Session Security Check ---
        (function() {
            const isAllowed = sessionStorage.getItem('navigationAllowed') === 'true';

            if (isAllowed) {
                sessionStorage.removeItem('navigationAllowed');
            } else {
                sessionStorage.clear();
                window.location.replace('index.html');
            }

            if (!sessionStorage.getItem('currentStudent') || !sessionStorage.getItem('selectedCourse')) {
                alert('Required application data not found. Redirecting to home.');
                // Set flag to allow navigation back to home.html
                sessionStorage.setItem('navigationAllowed', 'true');
                window.location.replace('home.html');
            }
        })();
    </script>
    <style>
        .header-branding {
            justify-content: center; /* Center the logo */
        }
    </style>
</head>
<body>
    <header class="main-header">
        <div class="header-branding">
            <div class="logo-container">
                <img src="LMS Logo.png" alt="LMS Logo" class="logo">
            </div>
        </div>
    </header>

    <main class="login-main">
        <div class="details-container" style="max-width: 900px;">
            <h3>Application Preview</h3>
            <p style="text-align: center; margin-bottom: 2rem;">Please review all your details carefully. If anything is incorrect, go back to the home page to edit the specific section.</p>

            <!-- Personal Details -->
            <div class="preview-section">
                <h4>Personal Details</h4>
                <div class="preview-grid">
                    <div class="preview-field"><label>Full Name</label><span id="previewName"></span></div>
                    <div class="preview-field"><label>Email</label><span id="previewEmail"></span></div>
                    <div class="preview-field"><label>Roll Number</label><span id="previewRollNumber"></span></div>
                    <div class="preview-field"><label>Enrollment Number</label><span id="previewEnrollmentNumber"></span></div>
                    <div class="preview-field"><label>Mobile Number</label><span id="previewMobileNumber"></span></div>
                    <div class="preview-field"><label>Date of Birth</label><span id="previewDob"></span></div>
                    <div class="preview-field"><label>Age</label><span id="previewAge"></span></div>
                    <div class="preview-field"><label>Gender</label><span id="previewGender"></span></div>
                </div>
            </div>

            <!-- Address & Parents Detail -->
            <div class="preview-section">
                <h4>Address & Parents Detail</h4>
                <div class="preview-grid">
                    <div class="preview-field"><label>Address</label><span id="previewAddress"></span></div>
                    <div class="preview-field"><label>City</label><span id="previewCity"></span></div>
                    <div class="preview-field"><label>State</label><span id="previewState"></span></div>
                    <div class="preview-field"><label>Pincode</label><span id="previewPincode"></span></div>
                    <div class="preview-field"><label>Father's Name</label><span id="previewFatherName"></span></div>
                    <div class="preview-field"><label>Father's Occupation</label><span id="previewFatherOccupation"></span></div>
                    <div class="preview-field"><label>Mother's Name</label><span id="previewMotherName"></span></div>
                    <div class="preview-field"><label>Mother's Occupation</label><span id="previewMotherOccupation"></span></div>
                    <div class="preview-field"><label>Parent's Mobile</label><span id="previewParentMobile"></span></div>
                </div>
            </div>

            <!-- Academic Details -->
            <div class="preview-section">
                <h4>Academic Details</h4>
                <div class="preview-grid">
                    <div class="preview-field"><label>10th Board</label><span id="previewBoard10"></span></div>
                    <div class="preview-field"><label>10th Percentage</label><span id="previewPercentage10"></span></div>
                    <div class="preview-field"><label>10th Passing Year</label><span id="previewYear10"></span></div>
                    <div class="preview-field"><label>12th Board</label><span id="previewBoard12"></span></div>
                    <div class="preview-field"><label>12th Percentage</label><span id="previewPercentage12"></span></div>
                    <div class="preview-field"><label>12th Passing Year</label><span id="previewYear12"></span></div>
                </div>
            </div>

            <!-- Uploaded Documents -->
            <div class="preview-section">
                <h4>Uploaded Documents</h4>
                <div class="preview-grid">
                    <div class="preview-field">
                        <label>Passport Size Photo</label>
                        <a href="#" id="previewProfilePicture" target="_blank" rel="noopener noreferrer">View Document</a>
                    </div>
                    <div class="preview-field">
                        <label>Signature</label>
                        <a href="#" id="previewSignature" target="_blank" rel="noopener noreferrer">View Document</a>
                    </div>
                    <div class="preview-field">
                        <label>10th Marksheet</label>
                        <a href="#" id="previewMarksheet10" target="_blank" rel="noopener noreferrer">View Document</a>
                    </div>
                    <div class="preview-field">
                        <label>12th Marksheet</label>
                        <a href="#" id="previewMarksheet12" target="_blank" rel="noopener noreferrer">View Document</a>
                    </div>
                </div>
            </div>

            <!-- Course Selection -->
            <div class="preview-section">
                <h4>Course Selection</h4>
                <div class="preview-grid">
                    <div class="preview-field"><label>Honours Subject</label><span id="previewHonsSubject"></span></div>
                    <div class="preview-field"><label>Admission Fee</label><span id="previewFee"></span></div>
                </div>
            </div>

            <!-- Terms and Conditions -->
            <div class="preview-section">
                <h4>Terms & Conditions</h4>
                <div class="terms-box">
                    <p>1. I hereby declare that all the information provided by me in this application is true and correct to the best of my knowledge.</p>
                    <p>2. I understand that any false information will lead to the cancellation of my admission at any stage.</p>
                    <p>3. The admission fee once paid is non-refundable under any circumstances.</p>
                </div>
                <div class="form-group" style="margin-top: 1rem; display: flex; align-items: center; gap: 10px;">
                    <input type="checkbox" id="termsCheckbox" style="width: auto; margin: 0;">
                    <label for="termsCheckbox" style="margin-bottom: 0; font-weight: normal;">I have read and agree to the terms and conditions.</label>
                </div>
            </div>

            <div class="preview-actions">
                <a href="home.html" class="back-btn">Back & Edit</a>
                <a href="payment.html" id="proceedToPaymentBtn" class="submit-btn">Proceed to Payment</a>
            </div>
        </div>
    </main>

    <script src="theme.js"></script>
    <script src="preview.js"></script>
</body>
</html>